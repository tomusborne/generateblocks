!function(e){var t={};function s(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=e,s.c=t,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(n,i,function(t){return e[t]}.bind(null,i));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=15)}([function(e,t){e.exports=window.wp.element},function(e,t){e.exports=window.wp.i18n},function(e,t){e.exports=window.wp.components},function(e,t){e.exports=window.wp.hooks},,,,,,,,,function(e,t){e.exports=window.wp.apiFetch},,,function(e,t,s){"use strict";s.r(t);var n=s(0),i=s(1),a=s(2),o=s(12),r=s.n(o),c=s(3);class l extends n.Component{constructor(){super(...arguments),this.state={isAPILoaded:!1,isAPISaving:!1,isRegeneratingCSS:!1,settings:generateBlocksSettings.settings},this.getSetting=this.getSetting.bind(this),this.updateSettings=this.updateSettings.bind(this)}componentDidMount(){this.setState({isAPILoaded:!0})}getSetting(e,t){let s=t;return void 0!==this.state.settings[e]&&(s=this.state.settings[e]),s}updateSettings(e){this.setState({isAPISaving:!0});const t=e.target.nextElementSibling;r()({path:"/generateblocks/v1/settings",method:"POST",data:{settings:this.state.settings}}).then(e=>{this.setState({isAPISaving:!1}),t.classList.add("gblocks-action-message--show"),t.textContent=e.response,e.success&&e.response?setTimeout((function(){t.classList.remove("gblocks-action-message--show")}),3e3):t.classList.add("gblocks-action-message--error")})}render(){return this.state.isAPILoaded?Object(n.createElement)(n.Fragment,null,Object(n.createElement)("div",{className:"generateblocks-settings-main"},Object(c.applyFilters)("generateblocks.dashboard.beforeSettings","",this),Object(n.createElement)(a.PanelBody,{title:Object(i.__)("Settings","generateblocks")},Object(n.createElement)("div",{className:"gblocks-dashboard-panel-row-wrapper"},Object(n.createElement)(a.PanelRow,{className:"gblocks-css-print-method"},Object(n.createElement)(a.SelectControl,{label:Object(i.__)("CSS Print Method","generateblocks"),help:Object(i.__)("Generating your CSS in external files is better for overall performance.","generateblocks"),value:this.getSetting("css_print_method"),options:[{label:Object(i.__)("External File","generateblocks"),value:"file"},{label:Object(i.__)("Inline Embedding","generateblocks"),value:"inline"}],onChange:e=>{this.setState({settings:{...this.state.settings,css_print_method:e}})}})),"file"===this.getSetting("css_print_method")&&Object(n.createElement)(a.PanelRow,null,Object(n.createElement)(a.BaseControl,{id:"gblocks-regenerate-css",className:"gblocks-regenerate-css",help:Object(i.__)("Force your external CSS files to regenerate next time their page is loaded.","generateblocks")},Object(n.createElement)("div",{className:"gblocks-action-button"},Object(n.createElement)(a.Button,{isSecondary:!0,onClick:e=>{this.setState({isRegeneratingCSS:!0});const t=e.target.nextElementSibling;r()({path:"/generateblocks/v1/regenerate_css_files",method:"POST"}).then(e=>{this.setState({isRegeneratingCSS:!1}),t.classList.add("gblocks-action-message--show"),t.textContent=e.response,e.success&&e.response?setTimeout((function(){t.classList.remove("gblocks-action-message--show")}),3e3):t.classList.add("gblocks-action-message--error")})}},this.state.isRegeneratingCSS&&Object(n.createElement)(a.Spinner,null),!this.state.isRegeneratingCSS&&Object(i.__)("Regenerate CSS Files","generateblocks")),Object(n.createElement)("span",{className:"gblocks-action-message"})))),Object(n.createElement)(a.PanelRow,null,Object(n.createElement)(a.ToggleControl,{label:Object(i.__)("Sync Responsive Previews","generateblocks"),help:Object(i.__)("Sync our responsive preview controls with the editor responsive previews.","generateblocks"),checked:this.getSetting("sync_responsive_previews"),onChange:e=>{this.setState({settings:{...this.state.settings,sync_responsive_previews:e}})}})),Object(c.applyFilters)("generateblocks.dashboard.settings","",this),Object(n.createElement)("div",{className:"gblocks-action-button"},Object(n.createElement)(a.Button,{isPrimary:!0,disabled:this.state.isAPISaving,onClick:e=>this.updateSettings(e)},this.state.isAPISaving&&Object(n.createElement)(a.Spinner,null),!this.state.isAPISaving&&Object(i.__)("Save")),Object(n.createElement)("span",{className:"gblocks-action-message"})))),Object(c.applyFilters)("generateblocks.dashboard.afterSettings","",this))):Object(n.createElement)(a.Placeholder,{className:"gblocks-settings-placeholder"},Object(n.createElement)(a.Spinner,null))}}window.addEventListener("DOMContentLoaded",()=>{Object(n.render)(Object(n.createElement)(l,null),document.getElementById("gblocks-block-default-settings"))})}]);